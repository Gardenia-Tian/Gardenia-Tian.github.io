{"title":"RDMA技术解读","uid":"0f7d08163e7123e37a424c72e1969a8c","slug":"RDMA技术解读","date":"2022-11-18T13:11:09.000Z","updated":"2022-11-18T13:42:42.241Z","comments":true,"path":"api/articles/RDMA技术解读.json","keywords":null,"cover":"https://img-blog.csdnimg.cn/1b2704ac4511494e8c4c1348d7ad4529.png","content":"<h1 id=\"RDMA技术解读\"><a href=\"#RDMA技术解读\" class=\"headerlink\" title=\"RDMA技术解读\"></a>RDMA技术解读</h1><p>本文参考<a href=\"%5B%E6%8F%AD%E7%A7%98%E7%BD%91%E7%BB%9C%E6%8A%80%E6%9C%AF%E4%B8%AD%E7%9A%84%E2%80%9C%E7%88%B1%E9%A9%AC%E4%BB%95%E2%80%9D%EF%BC%8C12%E5%88%86%E9%92%9F%E7%9C%8B%E6%87%82RDMA_%E5%93%94%E5%93%A9%E5%93%94%E5%93%A9_bilibili%5D(https://www.bilibili.com/video/BV1ZY4y1L7Xq/?spm_id_from=333.337.search-card.all.click&vd_source=aad0e5152e96b4bf095d0017d639153b)\">技术蛋老师讲解RDMA的视频</a>, <a href=\"%5B%E5%AD%A6%E4%B9%A0%E5%88%86%E4%BA%AB%EF%BC%9A%E6%B5%85%E8%B0%88RDMA%E6%8A%80%E6%9C%AF_%E5%93%94%E5%93%A9%E5%93%94%E5%93%A9_bilibili%5D(https://www.bilibili.com/video/BV1QL411G7wo/?spm_id_from=333.337.search-card.all.click&vd_source=aad0e5152e96b4bf095d0017d639153b)\">It_server技术分享的视频</a>侵删</p>\n<h2 id=\"传统Socket通信\"><a href=\"#传统Socket通信\" class=\"headerlink\" title=\"传统Socket通信\"></a>传统Socket通信</h2><p><img src=\"/RDMA%E6%8A%80%E6%9C%AF%E8%A7%A3%E8%AF%BB/image-20221118211738044.png\" alt=\"image-20221118211738044\"></p>\n<p>用户将应用发送出去, 需要先到操作系统内核, 再到网络接口, 然后在接收方收到信息再次经过操作系统内核, 并在用户态分析数据.</p>\n<h2 id=\"RDMA通信模式\"><a href=\"#RDMA通信模式\" class=\"headerlink\" title=\"RDMA通信模式\"></a>RDMA通信模式</h2><p><img src=\"/RDMA%E6%8A%80%E6%9C%AF%E8%A7%A3%E8%AF%BB/image-20221118211907180.png\" alt=\"image-20221118211907180\"></p>\n<p>绕过内核态, 直接发送数据给硬件. 可以满足高带宽, 低延迟, 低CPU消耗的需求.</p>\n<p>RDMA可以释放CPU的负载, 减少数据拷贝, 内存访问, 实现零拷贝和内核旁路.</p>\n<ul>\n<li>零拷贝:应用程序能够直接执行数据传输, 无需涉及到网络软件栈的情况下, 数据能够被直接发送到缓冲区或者能够直接从缓冲区里被接收</li>\n<li>内核旁路: 应用程序可以直接在用户态执行数据传输, 不需要在内核态与用户态之间做上下文切换</li>\n</ul>\n<h3 id=\"IB\"><a href=\"#IB\" class=\"headerlink\" title=\"IB\"></a>IB</h3><p>RDMA的原生网络协议, 通过专用硬件实现最优的性能, 但是由于专用硬件的原因, InifiniBand要求从L到L4 需要使用自己专用的硬件, 设备成本非常高</p>\n<h3 id=\"RoCE\"><a href=\"#RoCE\" class=\"headerlink\" title=\"RoCE\"></a>RoCE</h3><p>RDMA跑在以太网上的一种网络, RoCE v1还没有摆脱Infiniband的束缚, RoCE v2使用UDP+IP, 既可以使用以太网交换机, 可以兼容现有以太网, IP协议使得数据可以被路由.</p>\n<p><img src=\"/RDMA%E6%8A%80%E6%9C%AF%E8%A7%A3%E8%AF%BB/image-20221118212411801.png\" alt=\"image-20221118212411801\"></p>\n<h3 id=\"iWARP\"><a href=\"#iWARP\" class=\"headerlink\" title=\"iWARP\"></a>iWARP</h3><p>可以更大规模的部署和组网, iWARP是基于TCP的, 传统的iWARP厂商实现时需要兼容的完整的协议栈, 设计和实现成本很高, 不需要交换机支持无损以太网传输, 虽然适用于当前的互联网传输, 但是性能比RoCE要差.</p>\n<p><img src=\"https://img-blog.csdnimg.cn/1b2704ac4511494e8c4c1348d7ad4529.png\" alt=\"img\"></p>\n","feature":true,"text":"RDMA技术解读本文参考技术蛋老师讲解RDMA的视频, It_server技术分享的视频侵删 传统Socket通信 用户将应用发送出去, 需要先到操作系统内核, 再到网络接口, 然后在接收方收到信息再次经过操作系统内核, 并在用户态分析数据. RDMA通信模式 绕过内核态, 直接...","link":"","photos":[],"count_time":{"symbolsCount":632,"symbolsTime":"1 mins."},"categories":[{"name":"清浅录","slug":"清浅录","count":3,"path":"api/categories/清浅录.json"}],"tags":[{"name":"体系结构","slug":"体系结构","count":2,"path":"api/tags/体系结构.json"},{"name":"网络","slug":"网络","count":1,"path":"api/tags/网络.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#RDMA%E6%8A%80%E6%9C%AF%E8%A7%A3%E8%AF%BB\"><span class=\"toc-text\">RDMA技术解读</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BC%A0%E7%BB%9FSocket%E9%80%9A%E4%BF%A1\"><span class=\"toc-text\">传统Socket通信</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#RDMA%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F\"><span class=\"toc-text\">RDMA通信模式</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#IB\"><span class=\"toc-text\">IB</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#RoCE\"><span class=\"toc-text\">RoCE</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#iWARP\"><span class=\"toc-text\">iWARP</span></a></li></ol></li></ol></li></ol>","author":{"name":"Gardenia","slug":"blog-author","avatar":"/features/profile.jpg","link":"/","description":"阳光很好, 风也温柔","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{},"next_post":{"title":"SC22:Scalable Irregular Parallelism with GPUs","uid":"e9e2dbc3ab9cf522942297faeb7b28ca","slug":"SC22-Scalable-Irregular-Parallelism-with-GPUs","date":"2022-11-18T11:33:47.000Z","updated":"2022-11-18T13:04:15.982Z","comments":true,"path":"api/articles/SC22-Scalable-Irregular-Parallelism-with-GPUs.json","keywords":null,"cover":"https://cn.bing.com/th?id=OHR.WychwoodForest_EN-US6378774990_UHD.jpg&pid=hp&w=384&h=216&rs=1&c=4","text":"SC22: Scalable Irregular Parallelism with GPUs: Getting CPUs Out of the Way背景知识在开始介绍本文的内容之前, 先进行一些扫盲, 介绍一下PGAS和单边内存操作 主要工作提出了Atos框架, 可以动态调度多...","link":"","photos":[],"count_time":{"symbolsCount":172,"symbolsTime":"1 mins."},"categories":[{"name":"知鱼集","slug":"知鱼集","count":1,"path":"api/categories/知鱼集.json"}],"tags":[{"name":"conference","slug":"conference","count":2,"path":"api/tags/conference.json"},{"name":"SC22","slug":"SC22","count":1,"path":"api/tags/SC22.json"}],"author":{"name":"Gardenia","slug":"blog-author","avatar":"/features/profile.jpg","link":"/","description":"阳光很好, 风也温柔","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}